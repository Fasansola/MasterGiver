{% extends "signup-flow.html" %}
{% load static %}

{% block page_title %}Create An Account{% endblock %}
{% block page_body %}
<!-- Main container for the signup form -->
<div class="form-header gap-8">
  <h1 class="small-heading">Create An Account</h1>
  <p>Already have an account? <a href="{% url 'login' %}" class="link bold" aria-label="Login to MasterGiver">Sign in</a></p>
</div>
<form
  class="d-flex flex-column align-items-start forms gap-24" id="signup-form"
  aria-label="Signup form"
>
  {% csrf_token %}
  <!-- Username input field -->

  <!-- Name input section -->
  <div class="forms-split-div flex-sm-column">
    <div class="col-6 col-12-sm d-flex flex-column forms-div">
      <label for="first_name" class="small-text required">First Name</label>
      <input type="text" id="first_name" name="first_name" class="input" required aria-required="true" minlength="2" maxlength="50">
      <span id="first_name-error" class="error-message" aria-live="polite"></span>
    </div>
    <div class="col-6 col-12-sm d-flex flex-column forms-div">
      <label for="last_name" class="small-text required">Last Name</label>
      <input type="text" id="last_name" name="last_name" class="input" required aria-required="true" minlength="2" maxlength="50">
      <span id="last_name-error" class="error-message" aria-live="polite"></span>
    </div>
  </div>
  
  <!-- Email input field -->
  <div class="forms-div">
    <label for="email" class="small-text required">Email</label>
    <input
      type="email"
      id="email"
      name="email"
      class="input"
      required
      aria-required="true"
    />
  </div>
  <!-- Password input field with toggle visibility -->
  <div class="forms-div">
    <div class="forms-div password-container">
      <label for="password" class="small-text required">Password</label>
      <input
        type="password"
        id="password"
        name="password"
        class="input password-field"
        required
        aria-required="true"
      />
      <svg
        width="20"
        height="21"
        class="eye"
        id="togglePassword"
        viewBox="0 0 20 21"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        role="button"
        aria-label="Toggle password visibility"
        tabindex="0"
      >
        <!-- SVG path for the eye icon -->
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M1.78395 10.5C1.87503 10.6574 1.99577 10.858 2.14535 11.0896C2.52953 11.6844 3.09847 12.4755 3.83711 13.2634C5.3296 14.8554 7.41626 16.3333 10 16.3333C12.5837 16.3333 14.6704 14.8554 16.1629 13.2634C16.9015 12.4755 17.4705 11.6844 17.8547 11.0896C18.0042 10.858 18.125 10.6574 18.216 10.5C18.125 10.3426 18.0042 10.142 17.8547 9.91044C17.4705 9.31557 16.9015 8.5245 16.1629 7.73662C14.6704 6.14463 12.5837 4.66667 10 4.66667C7.41626 4.66667 5.3296 6.14463 3.83711 7.73662C3.09847 8.5245 2.52953 9.31557 2.14535 9.91044C1.99577 10.142 1.87503 10.3426 1.78395 10.5ZM19.1667 10.5C19.912 10.1273 19.9119 10.127 19.9117 10.1267L19.9104 10.1241L19.9075 10.1184L19.8981 10.0999C19.8901 10.0844 19.8789 10.0628 19.8644 10.0354C19.8354 9.98058 19.7933 9.90269 19.7384 9.80499C19.6285 9.6097 19.4668 9.3346 19.2547 9.00623C18.8316 8.35109 18.2026 7.4755 17.3788 6.59672C15.7463 4.85537 13.2496 3 10 3C6.75041 3 4.25373 4.85537 2.62122 6.59672C1.79736 7.4755 1.16839 8.35109 0.74528 9.00623C0.533208 9.3346 0.371493 9.6097 0.261643 9.80499C0.206686 9.90269 0.164617 9.98058 0.135628 10.0354C0.121131 10.0628 0.109896 10.0844 0.101948 10.0999L0.0924917 10.1184L0.0896158 10.1241L0.0886417 10.126C0.0884886 10.1263 0.0879773 10.1273 0.833333 10.5L0.0879773 10.1273C-0.0293258 10.3619 -0.0293258 10.6381 0.0879773 10.8727L0.833333 10.5C0.0879773 10.8727 0.0878242 10.8724 0.0879773 10.8727L0.0896158 10.8759L0.0924917 10.8816L0.101948 10.9001C0.109896 10.9156 0.121131 10.9372 0.135628 10.9646C0.164617 11.0194 0.206686 11.0973 0.261643 11.195C0.371493 11.3903 0.533208 11.6654 0.74528 11.9938C1.16839 12.6489 1.79736 13.5245 2.62122 14.4033C4.25373 16.1446 6.75041 18 10 18C13.2496 18 15.7463 16.1446 17.3788 14.4033C18.2026 13.5245 18.8316 12.6489 19.2547 11.9938C19.4668 11.6654 19.6285 11.3903 19.7384 11.195C19.7933 11.0973 19.8354 11.0194 19.8644 10.9646C19.8789 10.9372 19.8901 10.9156 19.8981 10.9001L19.9075 10.8816L19.9104 10.8759L19.9114 10.874C19.9115 10.8737 19.912 10.8727 19.1667 10.5ZM19.1667 10.5L19.912 10.8727C20.0293 10.6381 20.029 10.3613 19.9117 10.1267L19.1667 10.5ZM10 8.83333C9.07952 8.83333 8.33333 9.57953 8.33333 10.5C8.33333 11.4205 9.07952 12.1667 10 12.1667C10.9205 12.1667 11.6667 11.4205 11.6667 10.5C11.6667 9.57953 10.9205 8.83333 10 8.83333ZM6.66667 10.5C6.66667 8.65905 8.15905 7.16667 10 7.16667C11.8409 7.16667 13.3333 8.65905 13.3333 10.5C13.3333 12.3409 11.8409 13.8333 10 13.8333C8.15905 13.8333 6.66667 12.3409 6.66667 10.5Z"
          fill="#6E6D7F"
          class="eye-path"
        />
      </svg>
    </div>
    <div class="form-info-card">
      Password must be at least 8 characters long and contain uppercase, lowercase, and numbers.
    </div>
  </div>
  <!-- Confirm password input field -->
  <div class="forms-div password-container">
    <label for="confirm_password" class="small-text required">Confirm Password</label>
    <input
      type="password"
      id="confirm_password"
      name="confirm_password"
      class="input password-field"
      required
      aria-required="true"
    />
  </div>
  <!-- Terms and conditions checkbox -->
  <div class="checkbox-div align-items-center">
    <input type="checkbox" name="terms" id="terms" required aria-required="true" />
    <label for="terms" class="small-text policy-text">
      I have read and agree to the
      <a href="#" class="link" aria-label="Read Terms of Use">Terms of Use</a> and
      <a href="#" class="link" aria-label="Read Privacy Policy">Privacy Policy</a>.
    </label>
  </div>
  <!-- Error message display -->
  <div class="d-none forms-warning" id="form-error" role="alert" aria-live="assertive">
    <img src="{% static "icons/error.svg" %}" alt="Error icon">
    <span id="error-text" class="danger-text">{{ error }}</span>
  </div>
  <!-- Submit button -->
  <button type="submit" class="forms-submit-button button dark-button" id="submit-form">Create Account</button>
</form>
{% endblock %}

{% block page_scripts %}
  <!-- Include the password toggle functionality script -->
  <script src="{% static 'scripts/sign-up.js' %}"></script>
  <script src="{% static 'scripts/password-toggle.js' %}"></script>
{% endblock %}